
. 
. local dataset "All_combined_sampa_data.dta"

. 
. * CHANGE DIRECTORY TO DROPBOX
. 
. cd "$sampadata"
/Users/juansolon/Cox working group Dropbox/TB Nutrition working group/SAMPA/DATA monitoring/Data/SAMPA

. 
. use "All_combined_sampa_data.dta", clear

. 
. frame rename default sampa

. cd "$ghsamparadio"
/Users/juansolon/Documents/GitHub/sampa-radio

. 
. 
. 
. 
end of do-file

. 
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. 
. do ./do/cr_flag_elastase.do             // Flags the elastase samples that should not be analyzed based on ELISA standards ;
>  n = 90

. /*
> cr_flag_elastase.do                     
> Flags the elastase samples that should not be analyzed based on ELISA standards ; n = 90
> J Solon
> March 3 2025
> 
> Once this flag is made, this has to be added to the analysis dataset
> */
. 
. 
. tempfile 1 2 3

. 
. sort sampa_id

. 
. save `1'
file /var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//S_51173.000001 saved as .dta format

. 
. ***  IMPORT ZAMBIA ELISA DATA (PLATE DROPPED)
. 
. frame create plate

. frame change plate

. 
. cd data-temp
/Users/juansolon/Documents/GitHub/sampa-radio/data-temp

. 
. import excel using "Plate 1 results.xlsx" ,cellrange(A2) first   
(6 vars, 90 obs)

. 
. cd ../
/Users/juansolon/Documents/GitHub/sampa-radio

. 
. gen flag_fecal_elastase = 1

. 
. rename SampaID sampa_id

. 
. keep sampa_id flag_fecal_elastase

. 
. sort sampa_id

. 
. save `2'
file /var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//S_51173.000002 saved as .dta format

. 
. frame change sampa

. 
. merge 1:1 sampa_id using `2', keep(match master)

    Result                      Number of obs
    -----------------------------------------
    Not matched                         2,186
        from master                     2,186  (_merge==1)
        from using                          0  (_merge==2)

    Matched                                90  (_merge==3)
    -----------------------------------------

. 
. drop _merge

. 
end of do-file

. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. 
. *do ./do/cr_trypsin.do                          // Adds trypsinogen
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

.  
.  
. *do ./do/cr_amylase.do                          // Adds amylase
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. 
.  
. do ./do/cr_sample_binary.do             // Generates or recodes ultrasound ct scan and elisa assays as binary with or withou
> t samples

. /* 
> cr_sample_binary.do                             // Generates or recodes ultrasound ct scan and elisa assays as binary with o
> r without samples
>                                                                 // Include here the same for presence or absence of function
> al enzyme assays 
>                                                                 
> Juan Solon
> March 3 2025
> 
> */
. 
. **# Generate recruitment and sample variables
. 
. gen recruited = 1

.         la var recruited "Recruited"

. 
. gen assay_fecal_elastase = 1 if fecal_elastase !=. & fecal_elastase >0
(476 missing values generated)

.         replace assay_fe = 0 if fecal_elastase==. 
(476 real changes made)

.         la var assay_fe "Fecal Elastase"

. 
. gen assay_lipase = 1 if lipase !=. & lipase >0
(1,954 missing values generated)

.         replace assay_lip = 0 if lipase ==.
(1,954 real changes made)

.         la var assay_lip "Lipase"

. 
. /*
> gen assay_amylase = 1 if amylase !=. & amylase >0
>         *replace assay_amylase = 0 if amylase ==.
>         la var assay_amylase "Amylase"
>         
> gen assay_trypsinogen = 1 if trypsinogen !=. & trypsinogen >0
>         *replace assay_trypsinogen = 0 if trypsinogen ==.
>         la var assay_trypsinogen "Trypsinogen"
> */
. 
. **# Create new variables for imaging presence; Do not replace combined
. 
. 
. clonevar radio2 = radio_exam
(513 missing values generated)

.         replace radio2 = 0 if radio_exam==.
(513 real changes made)

.         la var radio2 "Ultrasound"

. 
. clonevar ct2 = ct_scan
(1,625 missing values generated)

.         replace ct2 = 0 if ct_scan==.
(1,625 real changes made)

.         la var ct2 "CT Scan"

. 
. egen radio_mis_dims = rowmiss(pan_head_ap pan_head_trans pan_body_trans pan_tail_trans)

. 
. 
. egen radio_mis_all = rowmiss(pan_size_qual pan_head_trans pan_head_ap pan_body_trans pan_tail_trans pan_shape pan_shape_prob
> lem pan_shape_prob_specify pan_contour pan_contour_problem pan_contour_prob_specify pan_parenchyma pan_paren_inflam pan_pare
> n_fibrosis pan_paren_steatosis pan_duct pan_duct_stones pan_duct_mass pan_calci pan_calci_place pan_cyst_yes pan_oth_abnorma
> l pan_oth_abn_specify)

. 
. clonevar radio3 = radio2

. replace radio3 = 0 if radio_mis_dims ==4
(142 real changes made)

. la var radio3 "USS Scans Visualized"

. 
.         
. gen subset = 0

. replace subset = 1 if radio3==1 | assay_fecal_elastase ==1
(2,122 real changes made)

. la var subset "Analysis Subset (With Fe-1 or USS)"

. 
. gen subset2 = 0

. replace subset2 = 1 if radio3==1 | assay_fecal_elastase ==1 | ct2==1
(2,160 real changes made)

. la var subset2 "Analysis Subset 2 (With Fe-1 or USS or CT Scan)"

. 
. 
end of do-file

.                                                                                 // Include here the same for presence or abs
> ence of functional enzyme assays 
.                                                                                 // Revise once amylase and trypsinogen 
. 
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. do ./do/cr_categorical_outcomes.do

. /*
> cr_categorical_outcomes.do              
> Sampa
> Imaging Elastase Paper
> 
> Recodes fecal_elastase to with or without EPI and levels of EPI
> Include here any recoding of other functional enzymes
> 
> Reusable with
>         1.  Access to Dropbox
>         2.  Define globals and paths
>         3.  A working directory with 
>         01-data
>         02-data-temp
>         03-tables
>         04-do
>         05-figures
>         log 
> */
. 
. egen epi_binary = cut(fecal_elastase), at(0,200,601) icodes
(476 missing values generated)

.         la var epi_binary "EPI"

.         recode epi_binary 0 = 1 1 = 0
(1,800 changes made to epi_binary)

.         
. 
.         label define epi_binary 0 "Without EPI" 1 "With EPI"

.         label values epi_binary epi_binary

.         
. 
. egen epi_ordinal = cut(fecal_elastase), at(0,100,200, 601) icodes
(476 missing values generated)

.         la var epi_ordinal "EPI Levels"

.         recode epi_ordinal 0 = 3 1 = 2 2 = 1 
(1,800 changes made to epi_ordinal)

. 
.         label define epi_ordinal 1 "Without EPI" 2 "Mild-Moderate EPI" 3 "Severe EPI"

.         label values epi_ordinal epi_ordinal

. 
end of do-file

. 
.                                                                                 // Recodes fecal_elastase to with or without
>  EPI and levels of EPI
.                                                                                 // Include here any recoding of other functi
> onal enzymes once that data is in and cut-offs are known
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. do ./do/cr_categorical_independent.do

. /*
> SAMPA
> cr_categorical_independent.do
> March 3 2025
> J Solon
> 
> Creates categorical variables for indedpendent variables
> 
> Reusable with
>         1.  Access to Dropbox
>         2.  Define globals and paths
>         3.  A working directory with 
>         data
>         data-temp
>         tables
>         do
>         figures
>         log 
>         
> */
. 
. * Any radiology variables
. 
. label variable pan_head_ap "Head, AP"

. label variable pan_head_trans  "Head, Transverse" 

. label variable pan_body_trans  "Body, Transverse"

. label variable pan_tail_trans  "Tail, Transverse"

. 
. 
. 
. * Cohort subcategorizations these are for creating graphs 
. 
. generate child = 1 if cohort ==1 | cohort ==2
(1,846 missing values generated)

.         replace child = 2 if cohort ==3 | cohort ==4 | cohort ==5 | cohort ==6
(1,846 real changes made)

.         la var child "Adult or Child Population"

. 
.         label define child 1 "Child" 2 "Adult"

.     label values child child

. 
.         
. generate africa =1 if cohort == 2 | cohort == 3 | cohort ==4
(905 missing values generated)

.         replace africa =2 if cohort == 1 | cohort == 5 | cohort ==6
(905 real changes made)

.         la var africa "Africa or Asia"

. 
.         label define africa 1 "Africa" 2 "Asia"

.         label values africa africa

. 
. 
. generate exposuretime = 1 if cohort ==1 | cohort ==2 | cohort ==6
(1,538 missing values generated)

.         replace exposuretime = 2 if cohort ==4 | cohort ==5 | cohort ==3
(1,538 real changes made)

.         
.         label define exposuretime 1 "Exposure in Childhood" 2 "Exposure as Adults"

.         label values exposuretime exposuretime

.         
.         la var exposuretime "Exposure Time"

.         
. gen fec_cohort = 1 if cohort ==1
(1,954 missing values generated)

.         replace fec_cohort = 2 if cohort == 5
(275 real changes made)

.         replace fec_cohort = 3 if cohort ==6
(308 real changes made)

.         replace fec_cohort = 4 if cohort == 2
(108 real changes made)

.         replace fec_cohort = 5 if cohort ==3
(974 real changes made)

.         replace fec_cohort = 6 if cohort == 4
(289 real changes made)

. 
.         la var fec_cohort "Cohort"

.         label define fec_cohort 1 "DIVIDS" 2 "St-ATT" 3 "CLHNS" 4 "SAM" 5 "CICADA" 6 "NUSTART"

.         label values fec_cohort fec_cohort

. 
. label define ever_mal 0 "NPM" 1 "PM", modify

. label values ever_mal ever_mal

. 
end of do-file

. 
.                                                                                 // Include here any derived variables for im
> aging that are categorical
. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. do ./do/cr_continuous_independent.do            // Derived variables for imaging that are continuous ; include transformatio
> ns / weights

. /*
> SAMPA
> cr_continuous_independent.do
> March 3 2025
> J Solon
> 
> Creates continuous variables for Radiology
> 
> Creates pancreatic volumes based on the formula vy Li.
> 
> Reusable with
>         1.  Access to Dropbox
>         2.  Define globals and paths
>         3.  A working directory with 
>         01-data
>         02-data-temp
>         03-tables
>         04-do
>         05-figures
>         log 
>         
>         
> */
. 
. * Pancreatic Volume (CT)
. 
. cap drop ct_pan_vol

.         gen ct_pan_vol=((ct_pan_tail_trans+ct_pan_body_trans)/2)*ct_pan_body_tail*ct_pan_cc_body+((ct_pan_head_ap/2)^2)*3.14
> *ct_pan_cc_head
(2,034 missing values generated)

.         cap label variable ct_pan_vol "Calculated Pancreatic Volume; Study"

. 
.         
. 
. foreach var of varlist ct_pan_head_trans ct_pan_head_ap ct_pan_body_trans ct_pan_tail_trans ct_pan_body_tail ct_pan_cc_body 
> ct_pan_cc_head ct_pan_vol {
  2.         gen adj_wt_`var' = `var'/weight
  3. }
(1,952 missing values generated)
(1,949 missing values generated)
(1,950 missing values generated)
(1,951 missing values generated)
(2,025 missing values generated)
(2,029 missing values generated)
(2,031 missing values generated)
(2,034 missing values generated)

. 
. 
. foreach var of varlist ct_pan_head_trans ct_pan_head_ap ct_pan_body_trans ct_pan_tail_trans ct_pan_body_tail ct_pan_cc_body 
> ct_pan_cc_head ct_pan_vol {
  2.         gen adj_sqrt_`var' = sqrt(`var')
  3. }               
(1,952 missing values generated)
(1,949 missing values generated)
(1,950 missing values generated)
(1,951 missing values generated)
(2,025 missing values generated)
(2,029 missing values generated)
(2,031 missing values generated)
(2,034 missing values generated)

.         
. * Derived USS Variables 
. 
. foreach var of varlist pan_head_ap pan_head_trans pan_body_trans pan_tail_trans {
  2.         gen adj_wt_`var' = `var'/weight
  3. }
(729 missing values generated)
(882 missing values generated)
(673 missing values generated)
(1,080 missing values generated)

. 
. 
. foreach var of varlist pan_head_ap pan_head_trans pan_body_trans pan_tail_trans {
  2.         gen adj_sqrt_`var' = sqrt(`var')
  3. }               
(724 missing values generated)
(877 missing values generated)
(668 missing values generated)
(1,075 missing values generated)

.         
. 
. 
end of do-file

. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. do ./do/cr_labels.do                                    // Adds additional labels

. /* cr_labels.do 
> Sampa 
> March 25 2025
> 
> Juan Solon
> 
> */
. 
. label variable fecal_elastase "Fecal Elastase (ug/g)"

. label variable lipase "Lipase (U/L)"

. 
end of do-file

. 
.  cd `pwd'
/Users/juansolon/Documents/GitHub/sampa-radio

. do ./do/cr_keep.do 

. 
. local subj1 "record_id cohort sampa_id orgid sex dob age hiv"

. 
. local nutrition "bmi haz bmiz bmi_cat_child bmi_cat weight height muac waist hip"

. 
. local subj2 "indepth_sample indepth_exp ct_sample ct ivgtt_sample ivgtt uss_sample uss ever_mal degree_mal"

. 
. local ses "ses_tercile1 ses_tercile2 ses_tercile3 ses_tercile4 ses_tercile5 comp1 ses_tercile6 ses_tercile"

. 
. local uss "pan_size_qual pan_head_trans pan_head_ap pan_body_trans pan_tail_trans pan_shape pan_shape_problem pan_shape_prob
> _specify pan_contour pan_contour_problem pan_contour_prob_specify pan_parenchyma pan_paren_inflam pan_paren_fibrosis pan_par
> en_steatosis pan_duct pan_duct_stones pan_duct_mass pan_calci pan_calci_place pan_cyst_yes pan_oth_abnormal pan_oth_abn_spec
> ify pancreatic"

. 
. local ct "ct_pan_size_qual ct_pan_head_trans ct_pan_head_ap ct_pan_body_trans ct_pan_tail_trans ct_pan_body_tail ct_pan_cc_b
> ody ct_pan_cc_head ct_pan_shape ct_pan_shape_problem ct_pan_shape_prob_spec ct_pan_contour ct_pan_contour_problem ct_pan_con
> tour_prob_spec ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_fibrosis ct_pan_paren_steatosis ct_pan_duct ct_pan_duct_st
> ones ct_pan_duct_mass ct_pan_calci ct_pan_calci_place ct_pan_oth_abnormal ct_pan_oth_abn_spec"

. 
. local derived1 "ct_pan_vol"

. 
. local adjwt_uss "adj_wt_pan_head_ap adj_wt_pan_head_trans adj_wt_pan_body_trans adj_wt_pan_tail_trans"  

. 
. local adjsq_uss "adj_sqrt_pan_head_ap adj_sqrt_pan_head_trans adj_sqrt_pan_body_trans adj_sqrt_pan_tail_trans"  

. 
. local adjwt_ct "adj_wt_ct_pan_head_ap adj_wt_ct_pan_head_trans adj_wt_ct_pan_body_trans adj_wt_ct_pan_tail_trans adj_wt_ct_p
> an_body_tail adj_wt_ct_pan_vol"  

. 
. local adjsq_ct "adj_sqrt_ct_pan_head_ap adj_sqrt_ct_pan_head_trans adj_sqrt_ct_pan_body_trans adj_sqrt_ct_pan_tail_trans adj
> _sqrt_ct_pan_body_tail adj_sqrt_ct_pan_vol"  

. 
. 
. 
. 
. /*local derived2 "adj_wt_ct_pan_head_trans adj_wt_ct_pan_head_ap adj_wt_ct_pan_body_trans adj_wt_ct_pan_tail_trans adj_wt_ct
> _pan_body_tail adj_wt_ct_pan_cc_body adj_wt_ct_pan_cc_head adj_sqrt_ct_pan_head_trans adj_sqrt_ct_pan_head_ap adj_sqrt_ct_pa
> n_body_trans adj_sqrt_ct_pan_tail_trans adj_sqrt_ct_pan_body_tail adj_sqrt_ct_pan_cc_body adj_sqrt_ct_pan_cc_head adj_wt_pan
> _head_ap adj_wt_pan_head_trans adj_wt_pan_body_trans adj_wt_pan_tail_trans adj_sqrt_pan_head_ap adj_sqrt_pan_head_trans adj_
> sqrt_pan_body_trans adj_sqrt_pan_tail_trans"
> */
. 
. 
. local derived3 "flag_fecal_elastase recruited assay_fecal_elastase assay_lipase radio2 ct2 radio_mis_dims radio_mis_all radi
> o3 subset subset2 epi_binary epi_ordinal child africa exposuretime fec_cohort"

. 
. local glucose "metformin insulin ogtt_time0 hba1c gluc_mean_mgdl insulin_mean_mul Matsuda_index insulinogenic_index rhba1c" 

. 
. local enzymes "fecal_elastase lipase ngml_trypsinogen mgl_crp mgl_cystatin ul_amylp"

. 
. local body "bia fm_kg fm_per ffm_kg ffm_per fmi ffmi impedance bia_prob bia_comment adp adpfm_kg adpffm_kg adpfm_per adpffm_
> per adp_prob adp_comment"

. 
. local organs "hepatomegaly splenomegaly cholelithiasis steatosis mass gynecologic atherosclerosis nephrolithiasis pancreatic
> "

. 
. 
. keep `subj1' `subj2' `ses' `uss' `ct' `derived1' `adjwt_uss' `adjsq_uss' `adjwt_ct' `adjsq_ct' `derived3' `glucose' `enzymes
> ' `body' `organs'

. 
. keep if subset==1
(154 observations deleted)

. 
end of do-file

. 
. local obs = _N

. notes drop _dta 
  (15 notes dropped)

. note: Subset Created for Imaging Paper on `c(current_date)' at `c(current_time)' by `c(username)'

. note: Keeps only participants with Fecal Elastase or Visible Ultrasound Scans; N=`obs'

. note: Data read from ~/Cox working group Dropbox/TB Nutrition working group/Sampa/DATA Monitoring/data/sampa/All_combined_sa
> mpa_data.dta

. note: Selected variables kept for this paper in cr_keep.do 

. describe, simple
record_id     ses_tercile1  gluc_mean_~l  adpfm_kg      pan_contou~y  mass          ct_pan_con~m  radio2        adj_wt_ct_..
cohort        ses_tercile2  insulin_me~l  adpffm_kg     pan_parenc~a  gynecologic   ct_pan_con~c  ct2           adj_wt_ct~il
sampa_id      ses_tercile3  Matsuda_in~x  adpfm_per     pan_paren_~m  atheroscle~s  ct_pan_par~a  radio_mis_~s  adj_wt_ct~ol
orgid         ses_tercile4  insulinoge~x  adpffm_per    pan_pa~rosis  nephrolith~s  ct_pan_par~m  radio_mis_~l  adj_sqrt_c..
sex           ses_tercile5  rhba1c        adp_prob      pan_pa~tosis  pancreatic    ct_pan~rosis  radio3        adj_sqrt_c~p
dob           comp1         lipase        adp_comment   pan_duct      ct_pan_siz~l  ct_pan~tosis  subset        adj_sqrt_c..
age           ses_tercile6  bia           fecal_elas~e  pan_duct_s~s  ct_pan_hea~s  ct_pan_duct   subset2       adj_sqrt_c..
indepth_sa~e  ses_tercile   fm_kg         pan_size_q~l  pan_duct_m~s  ct_pan_hea~p  ct_pan_du~es  epi_binary    adj_sqrt_~il
indepth_exp   hiv           fm_per        pan_head_t~s  pan_calci     ct_pan_bod~s  ct_pan_du~ss  epi_ordinal   adj_sqrt_~ol
ct_sample     metformin     ffm_kg        pan_head_ap   pan_calci_~e  ct_pan_tai~s  ct_pan_calci  child         adj_wt_pan~p
ct            insulin       ffm_per       pan_body_t~s  pan_cyst_yes  ct_pan_bod~l  ct_pan_cal~e  africa        adj_wt_pan..
ivgtt_sample  ogtt_time0    fmi           pan_tail_t~s  pan_oth_ab~l  ct_pan_cc_~y  ct_pan_oth~l  exposuretime  adj_wt_pan..
ivgtt         hba1c         ffmi          pan_shape     pan_oth_ab~y  ct_pan_cc_~d  ct_pan_oth~c  fec_cohort    adj_wt_pan..
uss_sample    mgl_crp       impedance     pan_shape_~m  hepatomegaly  ct_pan_shape  flag_fecal~e  ct_pan_vol    adj_sqrt_p~p
uss           mgl_cystatin  bia_prob      pan_shape_~y  splenomegaly  ct_pan_sha~m  recruited     adj_wt_ct_..  adj_sqrt_p..
ever_mal      ul_amylp      bia_comment   pan_contour   cholelithi~s  ct_pan_sha~c  assay_feca~e  adj_wt_ct_~p  adj_sqrt_p..
degree_mal    ngml_tryps~n  adp           pan_contou~m  steatosis     ct_pan_con~r  assay_lipase  adj_wt_ct_..  adj_sqrt_p..

. notes 

_dta:
  1.  Subset Created for Imaging Paper on 25 Mar 2025 at 13:33:33 by juansolon
  2.  Keeps only participants with Fecal Elastase or Visible Ultrasound Scans; N=2122
  3.  Data read from ~/Cox working group Dropbox/TB Nutrition working group/Sampa/DATA
      Monitoring/data/sampa/All_combined_sampa_data.dta
  4.  Selected variables kept for this paper in cr_keep.do

. 
. save ./data-temp/subset_imaging.dta, replace
file ./data-temp/subset_imaging.dta saved

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. tempvar clean_pan_oth_abn_specify // Using a tempvar to clean data 

. gen `clean_pan_oth_abn_specify' = pan_oth_abn_specify
(1,930 missing values generated)

. 
. // Remove common punctuation marks
. 
. local punct ". , ; : ? ! ' ( ) [ ]" // Added parentheses and brackets

. 
. foreach p of local punct {
  2.     replace `clean_pan_oth_abn_specify' = subinstr(`clean_pan_oth_abn_specify', "`p'", "", .)
  3. }
(29 real changes made)
(10 real changes made)
(0 real changes made)
(2 real changes made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(12 real changes made)
(12 real changes made)
(0 real changes made)
(0 real changes made)

. 
. // Replace hyphens and slashes separately (as you want to replace with spaces)
. replace `clean_pan_oth_abn_specify' = subinstr(`clean_pan_oth_abn_specify', "-", " ", .)
(16 real changes made)

. replace `clean_pan_oth_abn_specify' = subinstr(`clean_pan_oth_abn_specify', "/", " ", .)
(3 real changes made)

. 
. // Trim extra spaces
. replace `clean_pan_oth_abn_specify' = trim(`clean_pan_oth_abn_specify')
(0 real changes made)

. replace `clean_pan_oth_abn_specify' = strtrim(`clean_pan_oth_abn_specify') // Remove multiple spaces
(0 real changes made)

. 
. // Convert to lowercase
. replace `clean_pan_oth_abn_specify' = lower(`clean_pan_oth_abn_specify')
(183 real changes made)

. 
. 
. // Creating local macros for strings found in pan_oth_abn_specify 
. 
. local lung_terms "empty"  // Dummy string to avoid empty regex

. local liver_terms "liver|hepatic|hepatomegaly|fatty liver|fatty infiltration|hepatic steatosis|haemangioma|echogenic liver l
> esion|liver lesions|liver mass|parenchymal echogenicity|hepatic cysts|necrotic periportal lymph nodes"

. local gallbladder_terms "gallbladder|gallstone|cholelithiasis|gall stones|cholecystitis|lithiases|calculus"

. local spleen_terms "spleen|splenomegaly|bulky spleen"

. local pancreas_terms "empty" // Dummy string to avoid empty regex

. local kidney_terms "kidney|renal|nephrolithiasis|atrophic kidneys|hydronephrosis|parapelvic cyst|reduced kidney sizes|chroni
> c kidney disease"

. local uterus_ovary_terms "uterus|ovary|fibroid|ovarian cyst|adnexal cyst|multi-fibroid uterus|dermoid cyst|gynae review|ovar
> ian"

. local bone_spine_terms "empty" // Dummy string to avoid empty regex

. local vascular_terms "portal hypertension"

. local heart_terms "empty" // Dummy string to avoid empty regex

. local stomach_intestine_terms "worm infestation|o polyp"

. local adrenal_terms "empty" // Dummy string to avoid empty regex

. local mass_terms "mass|lymph nodes|lesion|haematoma|cystic\s+mass|\? haematoma|: multilocular cystic mass"

. 
. // Generate organ specific involvment based on regexm and macros above
. 
. gen pan_lung = regexm(lower(`clean_pan_oth_abn_specify'), "`lung_terms'")

. gen pan_liver = regexm(lower(`clean_pan_oth_abn_specify'), "`liver_terms'")

. gen pan_gallbladder = regexm(lower(`clean_pan_oth_abn_specify'), "`gallbladder_terms'")

. gen pan_spleen = regexm(lower(`clean_pan_oth_abn_specify'), "`spleen_terms'")

. gen pan_pancreas = regexm(lower(`clean_pan_oth_abn_specify'), "`pancreas_terms'")

. gen pan_kidney = regexm(lower(`clean_pan_oth_abn_specify'), "`kidney_terms'")

. gen pan_uterus_ovary = regexm(lower(`clean_pan_oth_abn_specify'), "`uterus_ovary_terms'")

. gen pan_bone_spine = regexm(lower(`clean_pan_oth_abn_specify'), "`bone_spine_terms'")

. gen pan_vascular = regexm(lower(`clean_pan_oth_abn_specify'), "`vascular_terms'")

. gen pan_heart = regexm(lower(`clean_pan_oth_abn_specify'), "`heart_terms'")

. gen pan_stomach_intestine = regexm(lower(`clean_pan_oth_abn_specify'), "`stomach_intestine_terms'")

. gen pan_adrenal = regexm(lower(`clean_pan_oth_abn_specify'), "`adrenal_terms'")

. gen pan_mass = regexm(lower(trim(`clean_pan_oth_abn_specify')), "`mass_terms'")

. 
. // Generate a variable to sum number of organs involved
. 
. local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal"

. egen pan_organs = rowtotal(`cat')

. 
. * QC of pancreas in other findings */
. /*
> 
> tab pan_oth_abnormal pan_organs, missing
> br sampa_id pan_oth_abn_specify pan_oth_abnormal pan_organs pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_k
> idney pan_uterus_ovary pan_bone_spine pan_vascular pan_heart pan_stomach_intestine pan_adrenal if pan_organs==0 & pan_oth_ab
> normal==1
> */
. 
. 
. 
. **#QC of data (used during regex- keep ) - This requires manual inspection by browsing
. /*
> * checks mass
> 
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal"
> 
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_mass==1
> 
> * checks liver
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> 
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_liver==1
> 
> * checks lung
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_lung==1
> 
> * checks heart
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_heart==1
> 
> * checks uterus
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_uterus_ovary==1
> 
> * checks bone_spine
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_bone_spine==1
> 
> * checks vascular
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_vascular==1
> 
> * checks stomach
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_stomach_intestine==1
> 
> * checks adrenal
> local cat "pan_lung pan_liver pan_gallbladder pan_spleen pan_pancreas pan_kidney pan_uterus_ovary pan_bone_spine pan_vascula
> r pan_heart pan_stomach_intestine pan_adrenal pan_mass"
> br pan_oth_abnormal pan_oth_abn_spec pan_organs `cat' if pan_adrenal==1
> */
. 
. ******************** IMPORTANT RECODE of original data
. replace pan_oth_abnormal = 0  if  sampa_id ==10381 // comment on IDs only
(1 real change made)

. 
. 
. **# CREATE TABLE USING DTABLE
. cd "$ghsamparadio"
/Users/juansolon/Documents/GitHub/sampa-radio

. 
. 
. **#  TABLE CONFIGURATION 
. 
. local title     "Supplement Table. Incidental Findings on Ultrasound (n=1784)"

. local col               "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "1.pan_organs 1.pan_pancreas 1.pan_lung 1.pan_liver 1.pan_gallbladder 1.pan_spleen  1.pan_stomach_intestine 1.pan_
> kidney 1.pan_uterus_ovary 1.pan_bone_spine 1.pan_vascular 1.pan_heart  1.pan_adrenal 1.pan_mass"

. local notes1 "Participants may have multiple organ findings."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', notest nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')             

Supplement Table. Incidental Findings on Ultrasound (n=1784)
---------------------------------------------------
                      Ever experience malnutrition?
                            NPM            PM      
---------------------------------------------------
N                      1,101 (51.9%)  1,021 (48.1%)
pan_organs                                         
  1                        90 (8.2%)      87 (8.5%)
pan_pancreas                                       
  1                         0 (0.0%)       0 (0.0%)
pan_lung                                           
  1                         0 (0.0%)       0 (0.0%)
pan_liver                                          
  1                        88 (8.0%)      72 (7.1%)
pan_gallbladder                                    
  1                         6 (0.5%)       8 (0.8%)
pan_spleen                                         
  1                         3 (0.3%)       4 (0.4%)
pan_stomach_intestine                              
  1                         0 (0.0%)       3 (0.3%)
pan_kidney                                         
  1                         4 (0.4%)       5 (0.5%)
pan_uterus_ovary                                   
  1                         3 (0.3%)       3 (0.3%)
pan_bone_spine                                     
  1                         0 (0.0%)       0 (0.0%)
pan_vascular                                       
  1                         2 (0.2%)       0 (0.0%)
pan_heart                                          
  1                         0 (0.0%)       0 (0.0%)
pan_adrenal                                        
  1                         0 (0.0%)       0 (0.0%)
pan_mass                                           
  1                         4 (0.4%)       6 (0.6%)
---------------------------------------------------
Participants may have multiple organ findings.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:33:48 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
.     collect label levels var _N "With Ultrasound", modify

.         collect label levels pan_organs 1 "Any Ultrasound Finding", modify

.         collect label levels pan_mass 1 "Masses", modify

. 
.     collect label levels pan_pancreas 1 "Pancreas"

.         collect label levels pan_lung 1 "Lungs", modify

.     collect label levels pan_liver 1 "Liver", modify

.     collect label levels pan_gallbladder 1 "Gall Bladder", modify

.     collect label levels pan_spleen 1 "Spleen", modify

.     collect label levels pan_kidney 1 "Kidney", modify

.     collect label levels pan_uterus_ovary 1 "Uterus / Ovaries", modify

.     collect label levels pan_bone_spine 1 "Bones", modify

.     collect label levels pan_vascular 1 "Vascular", modify

.     collect label levels pan_heart 1 "Heart", modify

.     collect label levels pan_adrenal 1 "Adrenal", modify

.     collect label levels pan_stomach_intestine 1 "GI tract", modify

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.pan_lung], title(label) // hides the title or name of levels of the dimension leaving on the
>  level's labels modified above
. 
.         local varlevel "1.pan_lung 1.pan_liver 1.pan_gallbladder 1.pan_spleen 1.pan_pancreas 1.pan_kidney 1.pan_uterus_ovary
>  1.pan_bone_spine 1.pan_vascular 1.pan_heart 1.pan_stomach_intestine 1.pan_adrenal 1.pan_mass 1.pan_organs"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. **# Create Composite Column so that counts and percentages are in separate columns
. collect preview

Supplement Table. Incidental Findings on Ultrasound (n=1784)
--------------------------------------------------
                            NPM            PM     
--------------------------------------------------
With Ultrasound        1,101 (51.9%) 1,021 (48.1%)
Any Ultrasound Finding     90 (8.2%)     87 (8.5%)
Pancreas                    0 (0.0%)      0 (0.0%)
Lungs                       0 (0.0%)      0 (0.0%)
Liver                      88 (8.0%)     72 (7.1%)
Gall Bladder                6 (0.5%)      8 (0.8%)
Spleen                      3 (0.3%)      4 (0.4%)
GI tract                    0 (0.0%)      3 (0.3%)
Kidney                      4 (0.4%)      5 (0.5%)
Uterus / Ovaries            3 (0.3%)      3 (0.3%)
Bones                       0 (0.0%)      0 (0.0%)
Vascular                    2 (0.2%)      0 (0.0%)
Heart                       0 (0.0%)      0 (0.0%)
Adrenal                     0 (0.0%)      0 (0.0%)
Masses                      4 (0.4%)      6 (0.6%)
--------------------------------------------------
Participants may have multiple organ findings.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:33:48 based on ./data-temp/subset_imaging.dta

. collect composite define col1 = frequency fvfrequency

. collect composite define col2 = fvpercent

. 
. * Clear autolevels
. collect style autolevels result frequency percent fvfrequency fvpercent col4, clear

. 
. collect preview

Supplement Table. Incidental Findings on Ultrasound (n=1784)
----------------------------------------------------------------------
                                 NPM                      PM          
----------------------------------------------------------------------
With Ultrasound        1,101 (51.9%)           1,021 (48.1%)          
Any Ultrasound Finding               90 (8.2%)               87 (8.5%)
Pancreas                              0 (0.0%)                0 (0.0%)
Lungs                                 0 (0.0%)                0 (0.0%)
Liver                                88 (8.0%)               72 (7.1%)
Gall Bladder                          6 (0.5%)                8 (0.8%)
Spleen                                3 (0.3%)                4 (0.4%)
GI tract                              0 (0.0%)                3 (0.3%)
Kidney                                4 (0.4%)                5 (0.5%)
Uterus / Ovaries                      3 (0.3%)                3 (0.3%)
Bones                                 0 (0.0%)                0 (0.0%)
Vascular                              2 (0.2%)                0 (0.0%)
Heart                                 0 (0.0%)                0 (0.0%)
Adrenal                               0 (0.0%)                0 (0.0%)
Masses                                4 (0.4%)                6 (0.6%)
----------------------------------------------------------------------
Participants may have multiple organ findings.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:33:48 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect query composite _dtable_test

Composite definition
Collection: DTable
 Composite: _dtable_test
  Elements: pearson
 Delimiter: " "
      Trim: on
  Override: off

. 
. * define stars rules using the p-value results
. 
. collect stars pearson .05 "*" .01 "**" .001 "***", dimension 

. 
.         * -collect stars- above added a new dimension, attaching -stars[value]-
.         * to every existing item, and adding new items for the stars labels
.         * tagged with -stars[label]-; but we don't need to see it's label or
.         * levels in the header
.         
. collect style header stars, title(hide) level(hide)

. 
. * change the layout to show the stars instead of the p-values
. 
. 
. collect layout (var) (ever_mal#result[col1 col2 pearson]#stars) // shows p values and stars
(level pearson of dimension result not found)

Collection: DTable
      Rows: var
   Columns: ever_mal#result[col1 col2 pearson]#stars
   Table 1: 15 x 4

Supplement Table. Incidental Findings on Ultrasound (n=1784)
------------------------------------------------
                            NPM          PM     
------------------------------------------------
With Ultrasound        1,101        1,021       
Any Ultrasound Finding    90 (8.2%)    87 (8.5%)
Pancreas                   0 (0.0%)     0 (0.0%)
Lungs                      0 (0.0%)     0 (0.0%)
Liver                     88 (8.0%)    72 (7.1%)
Gall Bladder               6 (0.5%)     8 (0.8%)
Spleen                     3 (0.3%)     4 (0.4%)
GI tract                   0 (0.0%)     3 (0.3%)
Kidney                     4 (0.4%)     5 (0.5%)
Uterus / Ovaries           3 (0.3%)     3 (0.3%)
Bones                      0 (0.0%)     0 (0.0%)
Vascular                   2 (0.2%)     0 (0.0%)
Heart                      0 (0.0%)     0 (0.0%)
Adrenal                    0 (0.0%)     0 (0.0%)
Masses                     4 (0.4%)     6 (0.6%)
------------------------------------------------
Participants may have multiple organ findings.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:33:48 based on ./data-temp/subset_imaging.dta

. 
. 
. *** Revise text / cell margins
. collect style cell, margin(all, width(10)) // approximates default space between text and cell margin 

. 
. * collect style cell, margin(all, width(0)) // minimizes default
. 
. **** Revise column width (equal or asis)
. 
. *collect style column, width(equal)
.  collect style column, width(asis)

. 
end of do-file

. collect preview

Supplement Table. Incidental Findings on Ultrasound (n=1784)
------------------------------------------------
                            NPM          PM     
------------------------------------------------
With Ultrasound        1,101        1,021       
Any Ultrasound Finding    90 (8.2%)    87 (8.5%)
Pancreas                   0 (0.0%)     0 (0.0%)
Lungs                      0 (0.0%)     0 (0.0%)
Liver                     88 (8.0%)    72 (7.1%)
Gall Bladder               6 (0.5%)     8 (0.8%)
Spleen                     3 (0.3%)     4 (0.4%)
GI tract                   0 (0.0%)     3 (0.3%)
Kidney                     4 (0.4%)     5 (0.5%)
Uterus / Ovaries           3 (0.3%)     3 (0.3%)
Bones                      0 (0.0%)     0 (0.0%)
Vascular                   2 (0.2%)     0 (0.0%)
Heart                      0 (0.0%)     0 (0.0%)
Adrenal                    0 (0.0%)     0 (0.0%)
Masses                     4 (0.4%)     6 (0.6%)
------------------------------------------------
Participants may have multiple organ findings.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:33:48 based on ./data-temp/subset_imaging.dta

. pwd
/Users/juansolon/Documents/GitHub/sampa-radio

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect save ./tables/pan_organs, replace
(collection DTable saved to file ./tables/pan_organs.stjson)

. **# EXPORT
. 
. collect export ./tables/pan_organs.html, as(html) replace
(collection DTable exported to file ./tables/pan_organs.html)

. html2docx ./tables/pan_organs.html , saving(./tables/pan_organs.docx) replace
successfully converted "/Users/juansolon/Documents/GitHub/sampa-radio/tables/pan_organs.docx"

. collect export ./tables/pan_organs_ms.docx, as(docx) replace
(collection DTable exported to file ./tables/pan_organs_ms.docx)

. 
end of do-file

. tab pan_calci*

                      |     If
                      | calcificat
                      |   ion is
                      |  present,
                      |  indicate
                      |  where it
                      |     is
       Calcifications |  Parenchy |     Total
----------------------+-----------+----------
              Present |         4 |         4 
----------------------+-----------+----------
                Total |         4 |         4 

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_duct 1.pan_duc
> t_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', notest nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
---------------------------------------------------------------------------
                                              Ever experience malnutrition?
                                                    NPM            PM      
---------------------------------------------------------------------------
N                                              1,101 (51.9%)  1,021 (48.1%)
Pancreas contour                                                           
  Abnormal                                         11 (1.3%)       7 (0.8%)
Pancreatic Parenchyma                                                      
  Abnormal                                       108 (12.9%)      54 (6.0%)
Pancreas shows signs of inflammation of edema                              
  Yes                                               3 (2.8%)       0 (0.0%)
Pancreas shows signs of fibrosis                                           
  Yes                                               2 (1.9%)       2 (4.1%)
Pancreas shows signs of steatosis                                          
  Yes                                            104 (97.2%)     51 (91.1%)
Pancreas Duct                                                              
  Abnormal                                          2 (0.2%)       5 (0.6%)
Stones detected in the duct                                                
  Yes                                               0 (0.0%)       0 (0.0%)
Mass detected in the duct                                                  
  Yes                                               0 (0.0%)       0 (0.0%)
Calcifications                                                             
  Present                                           3 (0.4%)       1 (0.1%)
---------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:39:45 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.ct_lung], title(label) // hides the title or name of levels of the dimension leaving on the 
> level's labels modified above
. 
.         local varlevel "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_d
> uct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. **# Create Composite Column so that counts and percentages are in separate columns
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
-------------------------------------------------
                           NPM            PM     
-------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)
Irregular / Lobulated     11 (1.3%)      7 (0.8%)
Abnormal Parenchyma     108 (12.9%)     54 (6.0%)
Inflammation               3 (2.8%)      0 (0.0%)
Fibrosis                   2 (1.9%)      2 (4.1%)
Steatosis               104 (97.2%)    51 (91.1%)
Duct Abnormality           2 (0.2%)      5 (0.6%)
Duct Stones                0 (0.0%)      0 (0.0%)
Yes                        0 (0.0%)      0 (0.0%)
Calcification              3 (0.4%)      1 (0.1%)
-------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:39:45 based on ./data-temp/subset_imaging.dta

. collect composite define col1 = frequency fvfrequency

. collect composite define col2 = fvpercent

. 
. * Clear autolevels
. collect style autolevels result frequency percent fvfrequency fvpercent col4, clear

. 
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------------------
                                 NPM                       PM           
------------------------------------------------------------------------
With Ultrasound       1,101 (51.9%)             1,021 (48.1%)           
Irregular / Lobulated                11  (1.3%)                7  (0.8%)
Abnormal Parenchyma                 108 (12.9%)               54  (6.0%)
Inflammation                          3  (2.8%)                0  (0.0%)
Fibrosis                              2  (1.9%)                2  (4.1%)
Steatosis                           104 (97.2%)               51 (91.1%)
Duct Abnormality                      2  (0.2%)                5  (0.6%)
Duct Stones                           0  (0.0%)                0  (0.0%)
Yes                                   0  (0.0%)                0  (0.0%)
Calcification                         3  (0.4%)                1  (0.1%)
------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:39:45 based on ./data-temp/subset_imaging.dta

. 
. **# Remove p values and replace with stars (from https://www.statalist.org/forums/forum/general-stata-discussion/general/172
> 1778-dtable-formatting-problem #5)
. * Note that this removes p values from the original dimension and moves it into new dimensoins
. 
. * the p-values are in composite _dtable_test: pearson 
. 
. collect query composite _dtable_test

Composite definition
Collection: DTable
 Composite: _dtable_test
  Elements: pearson
 Delimiter: " "
      Trim: on
  Override: off

. 
. * define stars rules using the p-value results
. 
. collect stars pearson .05 "*" .01 "**" .001 "***", dimension // shownote removed

. 
.         * -collect stars- above added a new dimension, attaching -stars[value]-
.         * to every existing item, and adding new items for the stars labels
.         * tagged with -stars[label]-; but we don't need to see it's label or
.         * levels in the header
.         
. collect style header stars, title(hide) level(hide)

. 
. * change the layout to show the stars instead of the p-values
. 
. 
. collect layout (var) (ever_mal#result[col1 col2 pearson]#stars) // shows p values and stars
(level pearson of dimension result not found)

Collection: DTable
      Rows: var
   Columns: ever_mal#result[col1 col2 pearson]#stars
   Table 1: 10 x 4

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
-------------------------------------------------
                           NPM            PM     
-------------------------------------------------
With Ultrasound       1,101         1,021        
Irregular / Lobulated    11  (1.3%)     7  (0.8%)
Abnormal Parenchyma     108 (12.9%)    54  (6.0%)
Inflammation              3  (2.8%)     0  (0.0%)
Fibrosis                  2  (1.9%)     2  (4.1%)
Steatosis               104 (97.2%)    51 (91.1%)
Duct Abnormality          2  (0.2%)     5  (0.6%)
Duct Stones               0  (0.0%)     0  (0.0%)
Yes                       0  (0.0%)     0  (0.0%)
Calcification             3  (0.4%)     1  (0.1%)
-------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:39:45 based on ./data-temp/subset_imaging.dta

. 
. 
. /* p value options
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]) // shows p values only
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> */
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_duct 1.pan_duc
> t_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, pan_paren_inflam, pan_paren_fibrosis,
      pan_paren_steatosis, pan_duct, pan_duct_stones, pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.237
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.417
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:41:09 based on ./data-temp/subset_imaging.dta

.  
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **#  TABLE CONFIGURATION 
. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_duct 1.pan_duc
> t_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, pan_paren_inflam, pan_paren_fibrosis,
      pan_paren_steatosis, pan_duct, pan_duct_stones, pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.237
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.417
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:42:11 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.ct_lung], title(label) // hides the title or name of levels of the dimension leaving on the 
> level's labels modified above
. 
.         local varlevel "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_d
> uct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. **# Create Composite Column so that counts and percentages are in separate columns
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)       
Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
Inflammation               3 (2.8%)      0 (0.0%)  0.237
Fibrosis                   2 (1.9%)      2 (4.1%)  0.417
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
Duct Stones                0 (0.0%)      0 (0.0%)      .
Yes                        0 (0.0%)      0 (0.0%)      .
Calcification              3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:42:11 based on ./data-temp/subset_imaging.dta

. collect composite define col1 = frequency fvfrequency

. collect composite define col2 = fvpercent

. 
. * Clear autolevels
. collect style autolevels result frequency percent fvfrequency fvpercent col4, clear

. 
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------------------
                                 NPM                       PM           
------------------------------------------------------------------------
With Ultrasound       1,101 (51.9%)             1,021 (48.1%)           
Irregular / Lobulated                11  (1.3%)                7  (0.8%)
Abnormal Parenchyma                 108 (12.9%)               54  (6.0%)
Inflammation                          3  (2.8%)                0  (0.0%)
Fibrosis                              2  (1.9%)                2  (4.1%)
Steatosis                           104 (97.2%)               51 (91.1%)
Duct Abnormality                      2  (0.2%)                5  (0.6%)
Duct Stones                           0  (0.0%)                0  (0.0%)
Yes                                   0  (0.0%)                0  (0.0%)
Calcification                         3  (0.4%)                1  (0.1%)
------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:42:11 based on ./data-temp/subset_imaging.dta

. 
. **# Remove p values and replace with stars (from https://www.statalist.org/forums/forum/general-stata-discussion/general/172
> 1778-dtable-formatting-problem #5)
. * Note that this removes p values from the original dimension and moves it into new dimensoins
. 
. * the p-values are in composite _dtable_test: pearson 
. 
. collect query composite _dtable_test

Composite definition
Collection: DTable
 Composite: _dtable_test
  Elements: pearson
 Delimiter: " "
      Trim: on
  Override: off

. 
. * define stars rules using the p-value results
. 
. collect stars pearson .05 "*" .01 "**" .001 "***", dimension // shownote removed

. 
.         * -collect stars- above added a new dimension, attaching -stars[value]-
.         * to every existing item, and adding new items for the stars labels
.         * tagged with -stars[label]-; but we don't need to see it's label or
.         * levels in the header
.         
. collect style header stars, title(hide) level(hide)

. 
. * change the layout to show the stars instead of the p-values
. 
. 
. collect layout (var) (ever_mal#result[col1 col2 pearson]#stars) // shows p values and stars

Collection: DTable
      Rows: var
   Columns: ever_mal#result[col1 col2 pearson]#stars
   Table 1: 10 x 6

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------
                           NPM            PM         Test   
------------------------------------------------------------
With Ultrasound       1,101         1,021                   
Irregular / Lobulated    11  (1.3%)     7  (0.8%) <0.001 ***
Abnormal Parenchyma     108 (12.9%)    54  (6.0%) <0.001 ***
Inflammation              3  (2.8%)     0  (0.0%)  0.237    
Fibrosis                  2  (1.9%)     2  (4.1%)  0.417    
Steatosis               104 (97.2%)    51 (91.1%)  0.086    
Duct Abnormality          2  (0.2%)     5  (0.6%) <0.001 ***
Duct Stones               0  (0.0%)     0  (0.0%)      .    
Yes                       0  (0.0%)     0  (0.0%)      .    
Calcification             3  (0.4%)     1  (0.1%) <0.001 ***
------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:42:11 based on ./data-temp/subset_imaging.dta

. 
. 
. /* p value options
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]) // shows p values only
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> */
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **#  TABLE CONFIGURATION 
. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:52:02 based on ./data-temp/subset_imaging.dta

.  
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.ct_lung], title(label) // hides the title or name of levels of the dimension leaving on the 
> level's labels modified above
. 
.         local varlevel "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_d
> uct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)       
Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation               3 (2.8%)      0 (0.0%)  0.552
Fibrosis                   2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
Duct Stones                0 (0.0%)      0 (0.0%)      .
Yes                        0 (0.0%)      0 (0.0%)      .
Calcification              3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:52:02 based on ./data-temp/subset_imaging.dta

. d pan_duct_mass

Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------------------------------------------------------------------------
pan_duct_mass   byte    %8.0g      pan_duct_mass
                                              Mass detected in the duct

. label list pan_duct_mass
pan_duct_mass:
           0  No
           1 Yes

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)       
Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation               3 (2.8%)      0 (0.0%)  0.552
Fibrosis                   2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
Duct Stones                0 (0.0%)      0 (0.0%)      .
Duct Mass                  0 (0.0%)      0 (0.0%)      .
Calcification              3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:52:02 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. tab pan_parenchyma cohort

                      |                              Cohort
Pancreatic Parenchyma |    DIVIDS        SAM     CICADA    NUSTART      STATT      CLHNS |     Total
----------------------+------------------------------------------------------------------+----------
               Normal |       304         81        272        245        257        290 |     1,449 
             Abnormal |         0          1        141         19          1          0 |       162 
Can't see well enough |         1          0        116          5          0          0 |       122 
----------------------+------------------------------------------------------------------+----------
                Total |       305         82        529        269        258        290 |     1,733 

. table (cohort) (pan_parenchyma ever_mal)

----------------------------------------------------------------------------------------------------------------------------------------------------------
          |                                                              Pancreatic Parenchyma                                                            
          |                Normal                             Abnormal                 Can't see well enough to tell                   Total              
          |    Ever experience malnutrition?       Ever experience malnutrition?       Ever experience malnutrition?       Ever experience malnutrition?  
          |        NPM         PM        Total         NPM         PM        Total         NPM         PM        Total         NPM         PM        Total
----------+-----------------------------------------------------------------------------------------------------------------------------------------------
Cohort    |                                                                                                                                               
  DIVIDS  |         54        250          304                                                          1            1          54        251          305
  SAM     |         35         46           81           1                       1                                              36         46           82
  CICADA  |        146        126          272          96         45          141          85         31          116         327        202          529
  NUSTART |         72        173          245          11          8           19           1          4            5          84        185          269
  STATT   |        147        110          257                      1            1                                             147        111          258
  CLHNS   |        186        104          290                                                                                 186        104          290
  Total   |        640        809        1,449         108         54          162          86         36          122         834        899        1,733
----------------------------------------------------------------------------------------------------------------------------------------------------------

. table (cohort) (pan_paren_st ever_mal)

----------------------------------------------------------------------------------------------------------------------
          |                                      Pancreas shows signs of steatosis                                    
          |                  No                                 Yes                                Total              
          |    Ever experience malnutrition?       Ever experience malnutrition?       Ever experience malnutrition?  
          |        NPM         PM        Total         NPM         PM        Total         NPM         PM        Total
----------+-----------------------------------------------------------------------------------------------------------
Cohort    |                                                                                                           
  SAM     |          1                       1                                               1                       1
  CICADA  |          1          5            6          95         42          137          96         47          143
  NUSTART |          1                       1           9          8           17          10          8           18
  STATT   |                                                         1            1                      1            1
  Total   |          3          5            8         104         51          155         107         56          163
----------------------------------------------------------------------------------------------------------------------

. d pan_paren_ste

Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------------------------------------------------------------------------
pan_paren_ste~s byte    %8.0g      pan_paren_steatosis
                                              Pancreas shows signs of steatosis

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.ct_lung], title(label) // hides the title or name of levels of the dimension leaving on the 
> level's labels modified above
. 
.         local varlevel "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_d
> uct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. **# Create Composite Column so that counts and percentages are in separate columns
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)       
Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation               3 (2.8%)      0 (0.0%)  0.552
Fibrosis                   2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
Duct Stones                0 (0.0%)      0 (0.0%)      .
Duct Mass                  0 (0.0%)      0 (0.0%)      .
Calcification              3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

. collect composite define col1 = frequency fvfrequency

. collect composite define col2 = fvpercent

. 
. * Clear autolevels
. collect style autolevels result frequency percent fvfrequency fvpercent col4, clear

. 
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------------------
                                 NPM                       PM           
------------------------------------------------------------------------
With Ultrasound       1,101 (51.9%)             1,021 (48.1%)           
Irregular / Lobulated                11  (1.3%)                7  (0.8%)
Abnormal Parenchyma                 108 (12.9%)               54  (6.0%)
Steatosis                           104 (97.2%)               51 (91.1%)
Inflammation                          3  (2.8%)                0  (0.0%)
Fibrosis                              2  (1.9%)                2  (4.1%)
Duct Abnormality                      2  (0.2%)                5  (0.6%)
Duct Stones                           0  (0.0%)                0  (0.0%)
Duct Mass                             0  (0.0%)                0  (0.0%)
Calcification                         3  (0.4%)                1  (0.1%)
------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

. 
. **# Remove p values and replace with stars (from https://www.statalist.org/forums/forum/general-stata-discussion/general/172
> 1778-dtable-formatting-problem #5)
. * Note that this removes p values from the original dimension and moves it into new dimensoins
. 
. * the p-values are in composite _dtable_test: pearson 
. 
. collect query composite _dtable_test

Composite definition
Collection: DTable
 Composite: _dtable_test
  Elements: pearson
            fisher
 Delimiter: " "
      Trim: on
  Override: off

. 
. * define stars rules using the p-value results
. 
. collect stars pearson .05 "*" .01 "**" .001 "***", dimension // shownote removed

. 
.         * -collect stars- above added a new dimension, attaching -stars[value]-
.         * to every existing item, and adding new items for the stars labels
.         * tagged with -stars[label]-; but we don't need to see it's label or
.         * levels in the header
.         
. collect style header stars, title(hide) level(hide)

. 
. * change the layout to show the stars instead of the p-values
. 
. 
. collect layout (var) (ever_mal#result[col1 col2 pearson]#stars) // shows p values and stars

Collection: DTable
      Rows: var
   Columns: ever_mal#result[col1 col2 pearson]#stars
   Table 1: 10 x 6

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------
                           NPM            PM         Test   
------------------------------------------------------------
With Ultrasound       1,101         1,021                   
Irregular / Lobulated    11  (1.3%)     7  (0.8%) <0.001 ***
Abnormal Parenchyma     108 (12.9%)    54  (6.0%) <0.001 ***
Steatosis               104 (97.2%)    51 (91.1%)  0.086    
Inflammation              3  (2.8%)     0  (0.0%)           
Fibrosis                  2  (1.9%)     2  (4.1%)           
Duct Abnormality          2  (0.2%)     5  (0.6%)           
Duct Stones               0  (0.0%)     0  (0.0%)           
Duct Mass                 0  (0.0%)     0  (0.0%)           
Calcification             3  (0.4%)     1  (0.1%)           
------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

. 
. 
. /* p value options
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]) // shows p values only
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> 
> collect layout (var) (ever_mal#result[col1 col2 pearson]#stars[value]#stars[label]) // shows p values and stars
> */
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect stars fishers .05 "*" .01 "**" .001 "***", dimension // shownote removed

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101         1,021               
Irregular / Lobulated    11  (1.3%)     7  (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)    54  (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation              3  (2.8%)     0  (0.0%)       
Fibrosis                  2  (1.9%)     2  (4.1%)       
Duct Abnormality          2  (0.2%)     5  (0.6%)       
Duct Stones               0  (0.0%)     0  (0.0%)       
Duct Mass                 0  (0.0%)     0  (0.0%)       
Calcification             3  (0.4%)     1  (0.1%)       
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect layout (var) (ever_mal#result[col1 col2 fishers pearson]#stars) // shows p values and stars
(level fishers of dimension result not found)

Collection: DTable
      Rows: var
   Columns: ever_mal#result[col1 col2 fishers pearson]#stars
   Table 1: 10 x 5

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101         1,021               
Irregular / Lobulated    11  (1.3%)     7  (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)    54  (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation              3  (2.8%)     0  (0.0%)       
Fibrosis                  2  (1.9%)     2  (4.1%)       
Duct Abnormality          2  (0.2%)     5  (0.6%)       
Duct Stones               0  (0.0%)     0  (0.0%)       
Duct Mass                 0  (0.0%)     0  (0.0%)       
Calcification             3  (0.4%)     1  (0.1%)       
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 13:58:33 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:00:04 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.  * REMOVE VARIABLE NAME IN ROW 
.  
.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

.    
.            * collect style header var, title(label) // shows the label of the dimension var which is now "Organs"
.            * collect style header var, title(name) // shows the name of the dimension var, which is var
.  
.  * LAYOUT to apply to  LEVELS OF A DIMENSION 
.    
.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

.    
.                 * collect style header var, level(hide) // HIDES the labels of ALL LEVELS the levels of dimension var which 
> includes the levels of the dimension and its levels
.    
.   
.  * LAYOUT FOR EACH LEVEL implemented in a foreach loop that HIDES the title of the level but keeps labels of level
.    * collect style header var[1.ct_lung], title(label) // hides the title or name of levels of the dimension leaving on the 
> level's labels modified above
. 
.         local varlevel "2.pan_contour 2.pan_parenchyma 1.pan_paren_inflam 1.pan_paren_fibrosis 1.pan_paren_steatosis 2.pan_d
> uct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.    
.     foreach x in "`varlevel'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
. /* Check Table
>     collect export organs.html, as(html) replace
>     html2docx organs.html , saving(organs.docx) replace
> */
.  
. **# Create Composite Column so that counts and percentages are in separate columns
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------
                           NPM            PM       Test 
--------------------------------------------------------
With Ultrasound       1,101 (51.9%) 1,021 (48.1%)       
Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
Steatosis               104 (97.2%)    51 (91.1%)  0.086
Inflammation               3 (2.8%)      0 (0.0%)  0.552
Fibrosis                   2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
Duct Stones                0 (0.0%)      0 (0.0%)      .
Duct Mass                  0 (0.0%)      0 (0.0%)      .
Calcification              3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:00:04 based on ./data-temp/subset_imaging.dta

. collect composite define col1 = frequency fvfrequency

. collect composite define col2 = fvpercent

. 
. * Clear autolevels
. collect style autolevels result frequency percent fvfrequency fvpercent col4, clear

. 
. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------------------------
                                 NPM                       PM           
------------------------------------------------------------------------
With Ultrasound       1,101 (51.9%)             1,021 (48.1%)           
Irregular / Lobulated                11  (1.3%)                7  (0.8%)
Abnormal Parenchyma                 108 (12.9%)               54  (6.0%)
Steatosis                           104 (97.2%)               51 (91.1%)
Inflammation                          3  (2.8%)                0  (0.0%)
Fibrosis                              2  (1.9%)                2  (4.1%)
Duct Abnormality                      2  (0.2%)                5  (0.6%)
Duct Stones                           0  (0.0%)                0  (0.0%)
Duct Mass                             0  (0.0%)                0  (0.0%)
Calcification                         3  (0.4%)                1  (0.1%)
------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:00:04 based on ./data-temp/subset_imaging.dta

. 
. **# Remove p values and replace with stars (from https://www.statalist.org/forums/forum/general-stata-discussion/general/172
> 1778-dtable-formatting-problem #5)
. * Note that this removes p values from the original dimension and moves it into new dimensoins
. 
. * the p-values are in composite _dtable_test: pearson 
. 
. collect query composite _dtable_test

Composite definition
Collection: DTable
 Composite: _dtable_test
  Elements: pearson
            fisher
 Delimiter: " "
      Trim: on
  Override: off

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **#  TABLE CONFIGURATION 
. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:00:53 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:00:53 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:01:44 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:01:44 based on ./data-temp/subset_imaging.dta

. collect clear

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect clear

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

.  
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 1 "Normal" 2 "Irregular / Lobulated" 3 "Not well visualized", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect label dim var "Organs", modify

.    
.    collect style header var, title(hide) // hides the label of the dimension var

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. collect layout

Collection: DTable
      Rows: var
   Columns: ever_mal#result
   Table 1: 19 x 3

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Irregular / Lobulated                           11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. collect levelsof var

Collection: DTable
 Dimension: var
    Levels: _N _hide 2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis 1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct
            1.pan_duct_stones 1.pan_duct_mass 1.pan_calci

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, level(hide) // SHOW the label of ALL LEVELS of dimension var 

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------
                     NPM            PM       Test 
--------------------------------------------------
With Ultrasound 1,101 (51.9%) 1,021 (48.1%)       
                    11 (1.3%)      7 (0.8%) <0.001
                  108 (12.9%)     54 (6.0%) <0.001
                  104 (97.2%)    51 (91.1%)  0.086
                     3 (2.8%)      0 (0.0%)  0.552
                     2 (1.9%)      2 (4.1%)  0.590
                     2 (0.2%)      5 (0.6%) <0.001
                     0 (0.0%)      0 (0.0%)      .
                     0 (0.0%)      0 (0.0%)      .
                     3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, level(show) // SHOW the label of ALL LEVELS of dimension var 
show found where label, value, or hide expected
r(198);

end of do-file

r(198);

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, level(value) // SHOW the label of ALL LEVELS of dimension var 

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
----------------------------------------------------------
                             NPM            PM       Test 
----------------------------------------------------------
With Ultrasound         1,101 (51.9%) 1,021 (48.1%)       
pan_contour                                               
  Irregular / Lobulated     11 (1.3%)      7 (0.8%) <0.001
pan_parenchyma                                            
  Abnormal Parenchyma     108 (12.9%)     54 (6.0%) <0.001
pan_paren_steatosis                                       
  Steatosis               104 (97.2%)    51 (91.1%)  0.086
pan_paren_inflam                                          
  Inflammation               3 (2.8%)      0 (0.0%)  0.552
pan_paren_fibrosis                                        
  Fibrosis                   2 (1.9%)      2 (4.1%)  0.590
pan_duct                                                  
  Duct Abnormality           2 (0.2%)      5 (0.6%) <0.001
pan_duct_stones                                           
  Duct Stones                0 (0.0%)      0 (0.0%)      .
pan_duct_mass                                             
  Duct Mass                  0 (0.0%)      0 (0.0%)      .
pan_calci                                                 
  Calcification              3 (0.4%)      1 (0.1%) <0.001
----------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:02:24 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins."

. local notes2 "No significant differences between groups on Chi-square test (p>0.05)"

. local notes3 

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes2') ///
>     note(`notes4')   
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

.  
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 2 "Lobulated", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Lobulated                                       11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. help collect style dim

. help collect style

. help collect style header

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.         collect style header var, title(hide)

. 
end of do-file

. collet preview
command collet is unrecognized
r(199);

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Lobulated                                       11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. collect layout

Collection: DTable
      Rows: var
   Columns: ever_mal#result
   Table 1: 19 x 3

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Lobulated                                       11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, title(hide) // hides the label of the dimension var

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Lobulated                                       11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var[pan_contour], title(hide) // hides the label of the dimension var
(level pan_contour of dimension var not found)

. 
end of do-file

. collect levelsof var

Collection: DTable
 Dimension: var
    Levels: _N _hide 2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis 1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct
            1.pan_duct_stones 1.pan_duct_mass 1.pan_calci pan_contour

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var[2.pan_contour], title(hide) // hides the label of the dimension var

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Lobulated                                         11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var[], title(hide) // hides the label of the dimension var

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
With Ultrasound                               1,101 (51.9%) 1,021 (48.1%)       
Lobulated                                         11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal Parenchyma                           108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Steatosis                                     104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Inflammation                                     3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Fibrosis                                         2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Duct Abnormality                                 2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Duct Stones                                      0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Duct Mass                                        0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Calcification                                    3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var[2.pan_contour], title(hide) // hides the label of the dimension var

.       collect style header var[2.pan_parenchyma], title(hide) // hides the label of the dimension var

.              collect style header var[1.pan_paren_inflam], title(hide) // hides the label of the dimension var

.                  collect style header var[1.pan_paren_fibrosis], title(hide) // hides the label of the dimension var

.                  collect style header var[1.pan_paren_steatosis], title(hide) // hides the label of the dimension var

.                 collect style header var[2.pan_duct], title(hide) // hides the label of the dimension var

.                 collect style header var[1.pan_duct_stones], title(hide) // hides the label of the dimension var

.                         collect style header var[1.pan_duct_mass], title(hide) // hides the label of the dimension var

.                         collect style header var[1.pan_calci], title(hide) // hides the label of the dimension var

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------
                       Ever experience malnutrition?  
                         NPM            PM       Test 
------------------------------------------------------
With Ultrasound     1,101 (51.9%) 1,021 (48.1%)       
Lobulated               11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma   108 (12.9%)     54 (6.0%) <0.001
Steatosis             104 (97.2%)    51 (91.1%)  0.086
Inflammation             3 (2.8%)      0 (0.0%)  0.552
Fibrosis                 2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality         2 (0.2%)      5 (0.6%) <0.001
Duct Stones              0 (0.0%)      0 (0.0%)      .
Duct Mass                0 (0.0%)      0 (0.0%)      .
Calcification            3 (0.4%)      1 (0.1%) <0.001
------------------------------------------------------
Pancreas contour : 14 were lobulated ; 5 with irregular borders or unclear margins.
No significant differences between groups on Chi-square test (p>0.05)
Remove in final : Created with on 25 Mar 2025 at 14:08:17 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect notes drop

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect notes Values are N(%). Fishers or Chi-square test p values are shown.  

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect save ./tables/pan_findings, replace
file ./tables/pan_findings.stjson could not be opened
r(603);

end of do-file

r(603);

. pwd
/Users/juansolon/Documents/GitHub/sampa-radio/do

. cd ..
/Users/juansolon/Documents/GitHub/sampa-radio

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. collect save ./tables/pan_findings, replace
(collection DTable saved to file ./tables/pan_findings.stjson)

. 
. **# EXPORT
. 
. collect export ./tables/pan_findings.html, as(html) replace
(collection DTable exported to file ./tables/pan_findings.html)

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. html2docx ./tables/pan_findings.html , saving(pan_findings.docx) replace
successfully converted "/Users/juansolon/Documents/GitHub/sampa-radio/pan_findings.docx"

. collect export ./tables/pan_findings_ms.docx, as(docx) replace
(collection DTable exported to file ./tables/pan_findings_ms.docx)

. 
end of do-file

. help collect notes

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. **#  TABLE CONFIGURATION 
. collect clear

. 
. local title "Supplement Table. Pancreas Findings on Ultrasound(n=1784)"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

. local notes1 "Values are N(%). Fishers or Chi-square test p values are shown."

. local notes2 

. local notes3 

. local notes4 

. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat1', statistics(fvfrequency fvpercent) test(pearson)) ///
>         factor(`cat2', statistics(fvfrequency fvpercent) test(fisher)) ///
>     title("`title'") ///
>     note(`notes1') 
note: using test pearson across levels of ever_mal for pan_contour, pan_parenchyma, and pan_paren_steatosis.
note: using test fisher across levels of ever_mal for pan_paren_inflam, pan_paren_fibrosis, pan_duct, pan_duct_stones,
      pan_duct_mass, and pan_calci.

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
--------------------------------------------------------------------------------
                                                 Ever experience malnutrition?  
                                                   NPM            PM       Test 
--------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)       
Pancreas contour                                                                
  Abnormal                                        11 (1.3%)      7 (0.8%) <0.001
Pancreatic Parenchyma                                                           
  Abnormal                                      108 (12.9%)     54 (6.0%) <0.001
Pancreas shows signs of steatosis                                               
  Yes                                           104 (97.2%)    51 (91.1%)  0.086
Pancreas shows signs of inflammation of edema                                   
  Yes                                              3 (2.8%)      0 (0.0%)  0.552
Pancreas shows signs of fibrosis                                                
  Yes                                              2 (1.9%)      2 (4.1%)  0.590
Pancreas Duct                                                                   
  Abnormal                                         2 (0.2%)      5 (0.6%) <0.001
Stones detected in the duct                                                     
  Yes                                              0 (0.0%)      0 (0.0%)      .
Mass detected in the duct                                                       
  Yes                                              0 (0.0%)      0 (0.0%)      .
Calcifications                                                                  
  Present                                          3 (0.4%)      1 (0.1%) <0.001
--------------------------------------------------------------------------------
Values are N(%). Fishers or Chi-square test p values are shown.

. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With Ultrasound", modify

.     collect label levels pan_contour 2 "Lobulated", modify

.         collect label levels pan_parenchyma 2 "Abnormal Parenchyma",  modify

.         collect label levels pan_paren_inflam 1 "Inflammation",  modify

.         collect label levels pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels pan_paren_steatosis 1 "Steatosis",  modify

.         collect label levels pan_duct 2 "Duct Abnormality",  modify

.         collect label levels pan_duct_stones 1 "Duct Stones" ,  modify

.         collect label levels pan_duct_mass 1 "Duct Mass" ,  modify

.         collect label levels pan_calci 1 "Calcification" ,  modify

.                 
.   
. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
.         collect style header var, title(hide)

.  * REMOVE VARIABLE NAME IN ROW 
.  
.  *  collect label dim var "Organs", modify
.  
.  local cat1 "2.pan_contour 2.pan_parenchyma 1.pan_paren_steatosis"

.  
.  foreach x in "`cat1'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

.         
. local cat2 "1.pan_paren_inflam 1.pan_paren_fibrosis 2.pan_duct 1.pan_duct_stones 1.pan_duct_mass 1.pan_calci"

.  
.  foreach x in "`cat2'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on Ultrasound(n=1784)
------------------------------------------------------
                         NPM            PM       Test 
------------------------------------------------------
With Ultrasound     1,101 (51.9%) 1,021 (48.1%)       
Lobulated               11 (1.3%)      7 (0.8%) <0.001
Abnormal Parenchyma   108 (12.9%)     54 (6.0%) <0.001
Steatosis             104 (97.2%)    51 (91.1%)  0.086
Inflammation             3 (2.8%)      0 (0.0%)  0.552
Fibrosis                 2 (1.9%)      2 (4.1%)  0.590
Duct Abnormality         2 (0.2%)      5 (0.6%) <0.001
Duct Stones              0 (0.0%)      0 (0.0%)      .
Duct Mass                0 (0.0%)      0 (0.0%)      .
Calcification            3 (0.4%)      1 (0.1%) <0.001
------------------------------------------------------
Values are N(%). Fishers or Chi-square test p values are shown.

. pwd
/Users/juansolon/Documents/GitHub/sampa-radio

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
.    
.    **#  SAVE COLLECTION 
. 
. collect save ./tables/pan_findings, replace
(collection DTable saved to file ./tables/pan_findings.stjson)

. 
. **# EXPORT
. 
. collect export ./tables/pan_findings.html, as(html) replace
(collection DTable exported to file ./tables/pan_findings.html)

. html2docx ./tables/pan_findings.html , saving(pan_findings.docx) replace
successfully converted "/Users/juansolon/Documents/GitHub/sampa-radio/pan_findings.docx"

. collect export ./tables/pan_findings_ms.docx, as(docx) replace
(collection DTable exported to file ./tables/pan_findings_ms.docx)

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. * Recode prior to tabulation *
. *clonevar ct_pan_paren_fibrosis_new = ct_pan_paren_fibrosis
. *replace ct_pan_paren_fibrosis_new = 0 if ct_pan_paren_fibrosis ==.
. 
. *tab ct_pan_paren_fibrosis_new ever_mal, mis col row 
. * Parenchymal inflammation 
. tab ct_pan_paren_inflam ever_mal,  mis col row

+-------------------+
| Key               |
|-------------------|
|     frequency     |
|  row percentage   |
| column percentage |
+-------------------+

  Pancreas |
     shows |
  signs of |
inflammati |    Ever experience
     on of |     malnutrition?
     edema |       NPM         PM |     Total
-----------+----------------------+----------
        No |         2          1 |         3 
           |     66.67      33.33 |    100.00 
           |      0.18       0.10 |      0.14 
-----------+----------------------+----------
       Yes |         1          0 |         1 
           |    100.00       0.00 |    100.00 
           |      0.09       0.00 |      0.05 
-----------+----------------------+----------
         . |     1,098      1,020 |     2,118 
           |     51.84      48.16 |    100.00 
           |     99.73      99.90 |     99.81 
-----------+----------------------+----------
     Total |     1,101      1,021 |     2,122 
           |     51.89      48.11 |    100.00 
           |    100.00     100.00 |    100.00 

. clonevar ct_pan_paren_inflam_new = ct_pan_paren_inflam
(2,118 missing values generated)

. replace ct_pan_paren_inflam_new = 0 if ct_pan_paren_inflam ==.
(2,118 real changes made)

. tab ct_pan_paren_inflam_new ever_mal, mis col row

+-------------------+
| Key               |
|-------------------|
|     frequency     |
|  row percentage   |
| column percentage |
+-------------------+

  Pancreas |
     shows |
  signs of |
inflammati |    Ever experience
     on of |     malnutrition?
     edema |       NPM         PM |     Total
-----------+----------------------+----------
        No |     1,100      1,021 |     2,121 
           |     51.86      48.14 |    100.00 
           |     99.91     100.00 |     99.95 
-----------+----------------------+----------
       Yes |         1          0 |         1 
           |    100.00       0.00 |    100.00 
           |      0.09       0.00 |      0.05 
-----------+----------------------+----------
     Total |     1,101      1,021 |     2,122 
           |     51.89      48.11 |    100.00 
           |    100.00     100.00 |    100.00 

. 
. * Steatosis
. 
. tab ct_pan_paren_steatosis ever_mal,  mis col row

+-------------------+
| Key               |
|-------------------|
|     frequency     |
|  row percentage   |
| column percentage |
+-------------------+

  Pancreas |
     shows |    Ever experience
  signs of |     malnutrition?
 steatosis |       NPM         PM |     Total
-----------+----------------------+----------
       Yes |         2          1 |         3 
           |     66.67      33.33 |    100.00 
           |      0.18       0.10 |      0.14 
-----------+----------------------+----------
         . |     1,099      1,020 |     2,119 
           |     51.86      48.14 |    100.00 
           |     99.82      99.90 |     99.86 
-----------+----------------------+----------
     Total |     1,101      1,021 |     2,122 
           |     51.89      48.11 |    100.00 
           |    100.00     100.00 |    100.00 

. clonevar ct_pan_paren_steatosis_new = ct_pan_paren_steatosis
(2,119 missing values generated)

. replace ct_pan_paren_steatosis_new = 0 if ct_pan_paren_steatosis ==.
(2,119 real changes made)

. tab ct_pan_paren_steatosis_new ever_mal, mis col row

+-------------------+
| Key               |
|-------------------|
|     frequency     |
|  row percentage   |
| column percentage |
+-------------------+

  Pancreas |
     shows |    Ever experience
  signs of |     malnutrition?
 steatosis |       NPM         PM |     Total
-----------+----------------------+----------
        No |     1,099      1,020 |     2,119 
           |     51.86      48.14 |    100.00 
           |     99.82      99.90 |     99.86 
-----------+----------------------+----------
       Yes |         2          1 |         3 
           |     66.67      33.33 |    100.00 
           |      0.18       0.10 |      0.14 
-----------+----------------------+----------
     Total |     1,101      1,021 |     2,122 
           |     51.89      48.11 |    100.00 
           |    100.00     100.00 |    100.00 

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. count if ct2==1
  291

. local obs = _N

. 
. local title "Supplement Table. Pancreas Findings on CT Scan (n=`obs')"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "2.ct_pan_shape 3.ct_pan_shape 2.ct_pan_parenchyma 3.ct_pan_parenchyma 1.ct_pan_paren_inflam_new 1.ct_pan_paren_fi
> brosis 1.ct_pan_paren_steatosis_new 2.ct_pan_duct  2.ct_pan_duct 1.ct_pan_calci"

. local notes1 "No significant difference in any findings between groups; Chi-square test"

. local notes2 ""

. local notes3 ""

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes4')   
note: using test pearson across levels of ever_mal for ct_pan_shape, ct_pan_parenchyma, ct_pan_paren_inflam_new,
      ct_pan_paren_fibrosis, ct_pan_paren_steatosis_new, ct_pan_duct, and ct_pan_calci.

Supplement Table. Pancreas Findings on CT Scan (n=2122)
-------------------------------------------------------------------------------
                                                Ever experience malnutrition?  
                                                   NPM            PM       Test
-------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)      
Pancreas shape                                                                 
  Small                                            1 (0.7%)      2 (1.4%) 0.488
  Enlarged                                         0 (0.0%)      1 (0.7%)      
Pancreatic Parenchyma                                                          
  Abnormal                                         3 (2.0%)      1 (0.7%) 0.377
  Can't see well enough to tell                    0 (0.0%)      1 (0.7%)      
Pancreas shows signs of inflammation of edema                                  
  Yes                                              1 (0.1%)      0 (0.0%) 0.335
Pancreas shows signs of fibrosis                                               
  Yes                                              0 (0.0%)      0 (0.0%)     .
Pancreas shows signs of steatosis                                              
  Yes                                              2 (0.2%)      1 (0.1%) 0.608
Pancreas Duct                                                                  
  Abnormal                                         0 (0.0%)      0 (0.0%) 0.623
Calcifications                                                                 
  Present                                          2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:43:47 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. count if ct2==1
  291

. 
end of do-file

. ret list

scalars:
                  r(N) =  291

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. count if ct2==1
  291

. 
. local obs = r(N)

. 
. local title "Supplement Table. Pancreas Findings on CT Scan (n=`obs')"

. local col "ever_mal"

. local colhead2 `"0 "NPM" 1 "PM""'

. local cat "2.ct_pan_shape 3.ct_pan_shape 2.ct_pan_parenchyma 3.ct_pan_parenchyma 1.ct_pan_paren_inflam_new 1.ct_pan_paren_fi
> brosis 1.ct_pan_paren_steatosis_new 2.ct_pan_duct  2.ct_pan_duct 1.ct_pan_calci"

. local notes1 "No significant difference in any findings between groups; Chi-square test"

. local notes2 ""

. local notes3 ""

. local notes4 "Remove in final : Created with "`dofilename'" on "`c(current_date)'" at "`c(current_time)'"  based on  "`c(fil
> ename)'"" 

. 
. **# TABLE CODE
. 
. dtable () `filter', by(`col', test nototals) ///
>     factor(`cat', statistics(fvfrequency fvpercent) test(pearson)) ///
>     title("`title'") ///
>     note(`notes1') ///
>         note(`notes4')   
note: using test pearson across levels of ever_mal for ct_pan_shape, ct_pan_parenchyma, ct_pan_paren_inflam_new,
      ct_pan_paren_fibrosis, ct_pan_paren_steatosis_new, ct_pan_duct, and ct_pan_calci.

Supplement Table. Pancreas Findings on CT Scan (n=291)
-------------------------------------------------------------------------------
                                                Ever experience malnutrition?  
                                                   NPM            PM       Test
-------------------------------------------------------------------------------
N                                             1,101 (51.9%) 1,021 (48.1%)      
Pancreas shape                                                                 
  Small                                            1 (0.7%)      2 (1.4%) 0.488
  Enlarged                                         0 (0.0%)      1 (0.7%)      
Pancreatic Parenchyma                                                          
  Abnormal                                         3 (2.0%)      1 (0.7%) 0.377
  Can't see well enough to tell                    0 (0.0%)      1 (0.7%)      
Pancreas shows signs of inflammation of edema                                  
  Yes                                              1 (0.1%)      0 (0.0%) 0.335
Pancreas shows signs of fibrosis                                               
  Yes                                              0 (0.0%)      0 (0.0%)     .
Pancreas shows signs of steatosis                                              
  Yes                                              2 (0.2%)      1 (0.1%) 0.608
Pancreas Duct                                                                  
  Abnormal                                         0 (0.0%)      0 (0.0%) 0.623
Calcifications                                                                 
  Present                                          2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:44:18 based on ./data-temp/subset_imaging.dta

. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. 
. 
. **# TABLE LAYOUT
. 
.     collect style row stack, nobinder nospacer // * Stack levels of each variable , places/removes space between variables ;
>  

. 
.     collect style cell border_block, border(right, pattern(nil)) // Remove vertical line after variables

.         
. *** TABLE SPACES / WIDTH
. collect style cell, margin(all, width(10)) // Define space b/w text and cell margins ;  default space in points is 1.5 betwe
> en text and cell margin 

. 
. collect style column, width(asis) // Revise column width (equal or asis)

.     
. *** TABLE TEXT
. 
. * Table title styles
. collect style title, font(, bold)

. 
. * MODIFY row text
. 
. label list ct_pan_paren_fibrosis ct_pan_parenchyma ct_pan_paren_inflam ct_pan_paren_steatosis ct_pan_duct
ct_pan_paren_fibrosis:
           0 No
           1 Yes
ct_pan_parenchyma:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell
ct_pan_paren_inflam:
           0 No
           1 Yes
ct_pan_paren_steatosis:
           0 No
           1 Yes
ct_pan_duct:
           1 Normal
           2 Abnormal
           3 Can't see well enough to tell

. 
.     collect label levels var _N "With CT Scans", modify

.     collect label levels ct_pan_shape 1 "Normal Shape" 2 "Small Pancreas" 3 "Enlarged Pancreas", modify

.         collect label levels ct_pan_parenchyma 2 "Abnormal Parenchyma" 3 "Not well visualized",  modify

.         collect label levels ct_pan_paren_inflam_new 1 "Edema or Inflammation",  modify

.         collect label levels ct_pan_paren_fibrosis 1 "Fibrosis",  modify

.         collect label levels ct_pan_paren_steatosis_new 1 "Steatosis",  modify

.         collect label levels ct_pan_duct 2 "Duct Abnormality" 3 "Duct not visualized",  modify

.         collect label levels ct_pan_calci 1 "Calcifications",  modify

.   
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

. * Modify Header Text
.     collect label levels ever_mal 0 "NPM" 1 "PM", modify

.     collect style header ever_mal#result,title(hide)    

.     
. 
end of do-file

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    foreach x in "`cat'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on CT Scan (n=291)
-------------------------------------------------------------------------------
                                                   NPM            PM       Test
-------------------------------------------------------------------------------
With CT Scans                                 1,101 (51.9%) 1,021 (48.1%)      
Pancreas shape                                                                 
  Small Pancreas                                   1 (0.7%)      2 (1.4%) 0.488
  Enlarged Pancreas                                0 (0.0%)      1 (0.7%)      
Pancreatic Parenchyma                                                          
  Abnormal Parenchyma                              3 (2.0%)      1 (0.7%) 0.377
  Not well visualized                              0 (0.0%)      1 (0.7%)      
Pancreas shows signs of inflammation of edema                                  
  Edema or Inflammation                            1 (0.1%)      0 (0.0%) 0.335
Pancreas shows signs of fibrosis                                               
  Fibrosis                                         0 (0.0%)      0 (0.0%)     .
Pancreas shows signs of steatosis                                              
  Steatosis                                        2 (0.2%)      1 (0.1%) 0.608
Pancreas Duct                                                                  
  Duct Abnormality                                 0 (0.0%)      0 (0.0%) 0.623
Calcifications                                                                 
  Calcifications                                   2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:44:18 based on ./data-temp/subset_imaging.dta

. collect layout

Collection: DTable
      Rows: var
   Columns: ever_mal#result
   Table 1: 17 x 3

Supplement Table. Pancreas Findings on CT Scan (n=291)
-------------------------------------------------------------------------------
                                                   NPM            PM       Test
-------------------------------------------------------------------------------
With CT Scans                                 1,101 (51.9%) 1,021 (48.1%)      
Pancreas shape                                                                 
  Small Pancreas                                   1 (0.7%)      2 (1.4%) 0.488
  Enlarged Pancreas                                0 (0.0%)      1 (0.7%)      
Pancreatic Parenchyma                                                          
  Abnormal Parenchyma                              3 (2.0%)      1 (0.7%) 0.377
  Not well visualized                              0 (0.0%)      1 (0.7%)      
Pancreas shows signs of inflammation of edema                                  
  Edema or Inflammation                            1 (0.1%)      0 (0.0%) 0.335
Pancreas shows signs of fibrosis                                               
  Fibrosis                                         0 (0.0%)      0 (0.0%)     .
Pancreas shows signs of steatosis                                              
  Steatosis                                        2 (0.2%)      1 (0.1%) 0.608
Pancreas Duct                                                                  
  Duct Abnormality                                 0 (0.0%)      0 (0.0%) 0.623
Calcifications                                                                 
  Calcifications                                   2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:44:18 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    local cat "2.ct_pan_shape 3.ct_pan_shape 2.ct_pan_parenchyma 3.ct_pan_parenchyma 1.ct_pan_paren_inflam_new 1.ct_pan_paren
> _fibrosis 1.ct_pan_paren_steatosis_new 2.ct_pan_duct  2.ct_pan_duct 1.ct_pan_calci"

.    foreach x in "`cat'" {
  2.                 collect style header var[`x'], title(hide)
  3.         }

.    
. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on CT Scan (n=291)
-------------------------------------------------------
                           NPM            PM       Test
-------------------------------------------------------
With CT Scans         1,101 (51.9%) 1,021 (48.1%)      
Small Pancreas             1 (0.7%)      2 (1.4%) 0.488
Enlarged Pancreas          0 (0.0%)      1 (0.7%)      
Abnormal Parenchyma        3 (2.0%)      1 (0.7%) 0.377
Not well visualized        0 (0.0%)      1 (0.7%)      
Edema or Inflammation      1 (0.1%)      0 (0.0%) 0.335
Fibrosis                   0 (0.0%)      0 (0.0%)     .
Steatosis                  2 (0.2%)      1 (0.1%) 0.608
Duct Abnormality           0 (0.0%)      0 (0.0%) 0.623
Calcifications             2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:44:18 based on ./data-temp/subset_imaging.dta

. do "/var/folders/lh/z7glx7t90sxdbn12r3xcjr7h0000gq/T//SD51173.000000"

.    collect style header var, level(label) // SHOW the label of ALL LEVELS of dimension var 

. 
end of do-file

. collect preview

Supplement Table. Pancreas Findings on CT Scan (n=291)
-------------------------------------------------------
                           NPM            PM       Test
-------------------------------------------------------
With CT Scans         1,101 (51.9%) 1,021 (48.1%)      
Small Pancreas             1 (0.7%)      2 (1.4%) 0.488
Enlarged Pancreas          0 (0.0%)      1 (0.7%)      
Abnormal Parenchyma        3 (2.0%)      1 (0.7%) 0.377
Not well visualized        0 (0.0%)      1 (0.7%)      
Edema or Inflammation      1 (0.1%)      0 (0.0%) 0.335
Fibrosis                   0 (0.0%)      0 (0.0%)     .
Steatosis                  2 (0.2%)      1 (0.1%) 0.608
Duct Abnormality           0 (0.0%)      0 (0.0%) 0.623
Calcifications             2 (1.3%)      6 (4.2%) 0.133
-------------------------------------------------------
No significant difference in any findings between groups; Chi-square test
Remove in final : Created with on 25 Mar 2025 at 14:44:18 based on ./data-temp/subset_imaging.dta

